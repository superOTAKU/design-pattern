# 概述

一个基于DDD实现的抽奖平台项目。

# 需求

1. 用户可以配置奖池，奖池内可以设置奖品，中奖的概率，以及奖品个数。
2. 奖池的设置者可以配置可抽奖的人员，以及设置其可抽奖的次数
3. 用户可以看到自己可参与的抽奖
4. 用户可自行参加抽奖
5. 奖池有过期时间，超出过期时间，抽奖自动结束

# 设计

一个问题是：抽奖的过程是否可以并发？因为奖品个数的问题，并发的情况下，
可能发生抽中某个奖品，而奖品个数不够的情况，这时候需要重新抽奖。但这种情况
发生的概率是比较低的。

可以把抽奖设计成异步的过程，前端每隔1秒轮询抽奖状态。

是否使用缓存，奖池应该要使用缓存，因为同一个奖池会被并发访问多次。缓存最好是本地缓存，
甚至可以用ConcurrentHashMap，因为不需要设置过期时间。

然后，对数据库的更改异步刷到数据库。

即所谓的采用write behind模式处理缓存。
